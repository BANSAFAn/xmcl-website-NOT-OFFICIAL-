const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/MarkdownRenderer.BQh5HEK6.js","_astro/AppShell.DZ309lDq.js","_astro/index.xtjVX_wf.js","_astro/index.DkJ80PZh.js","_astro/index.N73jR2O-.js","_astro/blog.qVo7mKyw.css"])))=>i.map(i=>d[i]);
import{c as F,_,u as h,j as e,m as l,d as R,A,S as z,I as D,B as m,e as q,X as E,F as I}from"./AppShell.DZ309lDq.js";import{r as d,R as W}from"./index.xtjVX_wf.js";import{U as v,u as X,a as Q,F as U,A as K}from"./useRouting.CwBOFdHg.js";import{C as O}from"./card.atykY8La.js";import{B as b}from"./badge.C_LN6g1e.js";import{u as y}from"./useQuery.L60tpg1-.js";import{S as $}from"./sparkles.D_loE4uy.js";import{C as N}from"./calendar.BGyxdnYK.js";import{C as H}from"./clock.GB7ZZPF5.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],G=F("rss",V),J=()=>{const{data:t,isLoading:r,error:o}=y({queryKey:["blog-config"],queryFn:async()=>{try{const s=await fetch("/blog.json");return s.ok?s.json():{posts:[{id:"1",title:"Welcome to XMCL Blog",excerpt:"This is the beginning of our blog system. More posts coming soon!",content:`# Welcome to XMCL Blog

This is the beginning of our blog system. More posts coming soon!`,author:"XMCL Team",date:"2024-01-01",tags:["announcement"],slug:"welcome"}],categories:["announcement","updates","tutorials"],featured:["1"]}}catch{return{posts:[],categories:[],featured:[]}}}}),n=async s=>{try{const i=await fetch(`/blog/${s}.md`);return i.ok?i.text():`# Post not found

This post content is not available.`}catch{return`# Error loading post

Failed to load post content.`}};return{posts:t?.posts||[],categories:t?.categories||[],featured:t?.featured||[],isLoading:r,error:o,fetchPostContent:n}},Y=d.lazy(()=>_(()=>import("./MarkdownRenderer.BQh5HEK6.js").then(t=>t.M),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.MarkdownRenderer}))),j=()=>e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-blob"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-80 h-80 bg-pink-500/15 rounded-full blur-3xl animate-blob animation-delay-4000"})]}),Z=()=>e.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:e.jsxs(l.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-blue-200 dark:border-blue-800"}),e.jsx("div",{className:"absolute inset-0 h-16 w-16 animate-spin rounded-full border-4 border-transparent border-t-blue-500 border-r-purple-500"})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Loading blog posts..."})]})}),k=W.memo(({post:t,featured:r,onClick:o,index:n})=>{const{t:s}=h();return e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:n*.1},children:e.jsxs(O,{onClick:o,className:"group relative cursor-pointer overflow-hidden rounded-2xl border-0 bg-white/80 backdrop-blur-sm p-6 shadow-lg transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 dark:bg-slate-800/80",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/0 via-purple-500/0 to-pink-500/0 opacity-0 transition-opacity duration-500 group-hover:from-blue-500/5 group-hover:via-purple-500/5 group-hover:to-pink-500/5 group-hover:opacity-100"}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{padding:"2px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude"}}),r&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:"absolute -right-12 -top-12 h-24 w-24",children:e.jsx("div",{className:"absolute bottom-6 right-6",children:e.jsxs(b,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white shadow-lg",children:[e.jsx($,{className:"mr-1 h-3 w-3"}),s("blog.featured")]})})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"mb-3 text-xl font-bold text-slate-900 transition-colors group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-purple-600 group-hover:bg-clip-text group-hover:text-transparent dark:text-white",children:t.title}),e.jsx("p",{className:"mb-4 text-sm text-slate-600 line-clamp-2 dark:text-slate-400",children:t.excerpt}),e.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:t.tags?.slice(0,3).map(i=>e.jsx(b,{variant:"secondary",className:"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 dark:from-blue-900/30 dark:to-purple-900/30 dark:text-blue-300",children:i},i))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"h-3.5 w-3.5"}),t.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"h-3.5 w-3.5"}),new Date(t.date).toLocaleDateString()]})]}),e.jsxs(l.div,{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 font-medium",whileHover:{x:5},children:["Read",e.jsx(R,{className:"h-4 w-4"})]})]})]})]})})});k.displayName="PostCard";const ee=({post:t,content:r,onBack:o})=>{const{t:n}=h();return e.jsxs(l.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"mx-auto max-w-4xl",children:[e.jsxs(m,{variant:"ghost",onClick:o,className:"mb-6 group text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[e.jsx(K,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"}),n("blog.backToBlog")]}),e.jsxs("article",{className:"rounded-3xl bg-white/90 backdrop-blur-xl p-8 md:p-12 shadow-2xl dark:bg-slate-800/90 border border-white/20",children:[e.jsxs("header",{className:"mb-10 border-b border-slate-200/50 pb-8 dark:border-slate-700/50",children:[e.jsx(l.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 text-4xl md:text-5xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 px-3 py-1.5 rounded-full",children:[e.jsx(v,{className:"h-4 w-4 text-blue-500"}),t.author]}),e.jsxs("span",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 px-3 py-1.5 rounded-full",children:[e.jsx(N,{className:"h-4 w-4 text-purple-500"}),new Date(t.date).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 px-3 py-1.5 rounded-full",children:[e.jsx(H,{className:"h-4 w-4 text-pink-500"}),Math.ceil((r?.length||0)/1e3)," min read"]})]}),e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:t.tags?.map(s=>e.jsx(b,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:s},s))})]}),e.jsx(d.Suspense,{fallback:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"animate-pulse h-6 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"animate-pulse h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),e.jsx("div",{className:"animate-pulse h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),children:e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:e.jsx(Y,{content:r||""})})})]})]})},te=()=>{const{t}=h(),{id:r}=X();Q();const[o,n]=d.useState(""),[s,i]=d.useState([]),[u,w]=d.useState(!1),{posts:x,categories:C,featured:L,isLoading:S,fetchPostContent:M}=J(),{data:P}=y({queryKey:["blog-post",r],queryFn:()=>M(r),enabled:!!r,staleTime:600*1e3}),g=d.useMemo(()=>x.filter(a=>{const c=!o||a.title.toLowerCase().includes(o.toLowerCase())||a.excerpt?.toLowerCase().includes(o.toLowerCase()),p=s.length===0||s.some(B=>a.tags?.includes(B));return c&&p}),[x,o,s]),f=d.useMemo(()=>x.find(a=>a.slug===r),[x,r]),T=d.useCallback(a=>{i(c=>c.includes(a)?c.filter(p=>p!==a):[...c,a])},[]);return S?e.jsx(Z,{}):r&&f?e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 py-8",children:[e.jsx(j,{}),e.jsx("div",{className:"container relative z-10 mx-auto px-4",children:e.jsx(ee,{post:f,content:P||"",onBack:()=>{window.location.hash=""}})})]}):e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[e.jsx(j,{}),e.jsx("header",{className:"relative border-b border-white/20 bg-white/50 backdrop-blur-xl py-16 dark:bg-slate-900/50",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 mb-4 bg-blue-100 dark:bg-blue-900/30 px-4 py-2 rounded-full text-blue-700 dark:text-blue-300 text-sm font-medium",children:[e.jsx(G,{className:"h-4 w-4"}),"Latest Updates"]}),e.jsx(l.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-4 text-5xl md:text-6xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:t("blog.title")}),e.jsx(l.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:t("blog.subtitle")})]})}),e.jsxs("div",{className:"container relative z-10 mx-auto px-4 py-10",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-10 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl p-4 rounded-2xl border border-white/20",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(z,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400"}),e.jsx(D,{placeholder:t("blog.searchPlaceholder"),value:o,onChange:a=>n(a.target.value),className:"pl-12 h-12 rounded-xl border-0 bg-white dark:bg-slate-700 shadow-sm"})]}),e.jsxs(m,{variant:u?"default":"outline",onClick:()=>w(!u),className:"rounded-xl h-12",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),t("blog.filterByCategory")]})]}),e.jsx(q,{children:u&&e.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-8 overflow-hidden",children:e.jsxs("div",{className:"flex flex-wrap gap-2 rounded-xl bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl p-5 border border-white/20",children:[C.map(a=>e.jsx(m,{variant:s.includes(a)?"default":"outline",size:"sm",onClick:()=>T(a),className:`rounded-full ${s.includes(a)?"bg-gradient-to-r from-blue-500 to-purple-500 border-0":""}`,children:a},a)),s.length>0&&e.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>i([]),className:"text-red-500 hover:text-red-600",children:[e.jsx(E,{className:"mr-1 h-3 w-3"}),"Clear all"]})]})})}),g.length>0?e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:g.map((a,c)=>e.jsx(k,{post:a,featured:L.includes(a.id),onClick:()=>window.location.hash=a.slug,index:c},a.slug||a.id))}):e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},className:"py-20 text-center",children:[e.jsx(I,{className:"mx-auto mb-4 h-16 w-16 text-slate-300"}),e.jsx("h3",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 mb-2",children:t("blog.noPostsFound")}),e.jsx(m,{variant:"link",onClick:()=>{n(""),i([])},className:"text-blue-600",children:t("common.clearFilters")})]})]})]})};function me(){return e.jsx(A,{children:e.jsx(te,{})})}export{me as default};
