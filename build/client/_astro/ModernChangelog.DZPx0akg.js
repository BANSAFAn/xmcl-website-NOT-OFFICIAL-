import{c as b,j as e,A as E,g as z,m as u,B as p,G as j,S as v,e as A,D as B,E as F,C as P}from"./AppShell.DZ309lDq.js";import{r as i}from"./index.xtjVX_wf.js";import{u as T}from"./useQuery.L60tpg1-.js";import{C as G}from"./card.atykY8La.js";import{B as N}from"./badge.C_LN6g1e.js";import{P as R}from"./PageTransition.DzXfwVmQ.js";import{C as H}from"./calendar.BGyxdnYK.js";import{M as I,r as V}from"./index.DkJ80PZh.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O=b("chevron-up",q);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],U=b("rocket",$);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],K=b("tag",Q),W=t=>{if(!t)return t;const h=/(^|\n)#{1,6}\s*Downloads[\s\S]*/i;return t.replace(h,"")},J=t=>new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),k=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:`${t}`,X=()=>{const{t}=z(),[h,y]=i.useState(null),[g,Y]=i.useState("all"),[d,C]=i.useState("newest"),[c,_]=i.useState(""),{data:l,isLoading:x,error:w}=T({queryKey:["modern-releases"],queryFn:async()=>{const s=await fetch("https://api.github.com/repos/Voxelum/x-minecraft-launcher/releases?per_page=30");if(!s.ok)throw new Error(s.status===403?"API rate limit exceeded":"Failed to fetch releases");return s.json()},retry:!1,refetchOnWindowFocus:!1,staleTime:300*1e3}),m=s=>s.assets?.reduce((a,r)=>a+(r.download_count||0),0)||0,f=i.useMemo(()=>{if(!l)return[];let s=l.filter(a=>{if(g==="stable"&&a.prerelease||g==="prerelease"&&!a.prerelease)return!1;if(c){const r=c.toLowerCase(),o=(a.name||a.tag_name).toLowerCase(),n=a.tag_name.toLowerCase();return o.includes(r)||n.includes(r)}return!0});return d==="most-downloads"?s=[...s].sort((a,r)=>m(r)-m(a)):d==="least-downloads"&&(s=[...s].sort((a,r)=>m(a)-m(r))),s},[l,g,c,d]),S=i.useMemo(()=>l?l.reduce((s,a)=>s+(a.assets?.reduce((r,o)=>r+(o.download_count||0),0)||0),0):0,[l]);return e.jsxs(R,{children:[e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"SoftwareApplication",name:"X Minecraft Launcher",applicationCategory:"GameApplication",operatingSystem:"Windows, macOS, Linux",downloadUrl:"https://xmcl.app",softwareVersion:l?.[0]?.tag_name||"latest"})}}),e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-background dark:bg-gradient-to-br dark:from-slate-950 dark:via-indigo-950 dark:to-purple-950 transition-colors duration-300",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}})]}),e.jsxs("main",{className:"container mx-auto px-4 py-12 relative z-10",children:[e.jsx("header",{className:"mb-16 text-center max-w-4xl mx-auto",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-indigo-300 text-sm mb-6",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:t("changelog.latestUpdates")||"Latest Updates"})]}),e.jsx("h1",{className:"text-5xl sm:text-6xl font-black mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-white dark:via-indigo-200 dark:to-purple-200 bg-clip-text text-transparent",children:t("changelog.title")}),e.jsx("p",{className:"text-xl text-muted-foreground dark:text-slate-300 mb-8 max-w-2xl mx-auto",children:t("changelog.subtitle")}),!x&&l&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-foreground dark:text-white",children:l.length}),e.jsx("div",{className:"text-sm text-muted-foreground dark:text-slate-400",children:t("changelog.releases")||"Releases"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400",children:k(S)}),e.jsx("div",{className:"text-sm text-slate-400",children:t("changelog.totalDownloads")||"Total Downloads"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:l[0]?.tag_name}),e.jsx("div",{className:"text-sm text-slate-400",children:t("changelog.latestVersion")||"Latest Version"})]})]}),e.jsxs(p,{size:"lg",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white shadow-2xl shadow-indigo-500/25",onClick:()=>window.open("https://github.com/Voxelum/x-minecraft-launcher/releases","_blank"),children:[e.jsx(j,{className:"w-5 h-5 mr-2"})," ",t("issues.viewOnGitHub")]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"max-w-4xl mx-auto mb-10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-white/50 dark:bg-white/5 backdrop-blur-xl rounded-2xl border border-black/5 dark:border-white/10 shadow-sm",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:t("changelog.searchPlaceholder"),value:c,onChange:s=>_(s.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-xl text-foreground dark:text-white placeholder-muted-foreground dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:[t("changelog.sortBy"),":"]}),e.jsxs("select",{value:d,onChange:s=>C(s.target.value),className:"px-4 py-3 bg-white dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-xl text-foreground dark:text-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all appearance-none min-w-[180px]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[e.jsxs("option",{value:"newest",className:"bg-slate-800",children:["ðŸ“… ",t("changelog.sortNewest")]}),e.jsxs("option",{value:"most-downloads",className:"bg-slate-800",children:["ðŸ“ˆ ",t("changelog.sortMostDownloads")]}),e.jsxs("option",{value:"least-downloads",className:"bg-slate-800",children:["ðŸ“‰ ",t("changelog.sortLeastDownloads")]})]})]})]})}),x&&e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-400",children:t("changelog.loading")||"Loading releases..."})]})}),w&&e.jsx("div",{className:"max-w-2xl mx-auto text-center py-12",children:e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-8",children:[e.jsx("div",{className:"text-red-400 text-4xl mb-4",children:"âš ï¸"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t("changelog.errorLoading")}),e.jsx("p",{className:"text-slate-400 mb-6",children:t("changelog.retryMessage")}),e.jsxs(p,{variant:"outline",onClick:()=>window.open("https://github.com/Voxelum/x-minecraft-launcher/releases","_blank"),className:"border-red-500/50 text-red-300 hover:bg-red-500/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"})," ",t("issues.viewOnGitHub")]})]})}),!x&&!w&&e.jsxs("section",{className:"max-w-4xl mx-auto relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-indigo-500 via-purple-500 to-pink-500 hidden lg:block"}),e.jsx("div",{className:"space-y-6",children:e.jsx(A,{children:f.map((s,a)=>{const r=s.assets?.reduce((M,L)=>M+(L.download_count||0),0)||0,o=h===s.id,n=W(s.body||""),D=n.slice(0,400)+(n.length>400?"...":"");return e.jsxs(u.article,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4,delay:a*.05},className:"relative lg:pl-20",children:[e.jsx("div",{className:"absolute left-6 top-8 w-4 h-4 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 border-4 border-slate-950 hidden lg:block"}),e.jsx(G,{className:"overflow-hidden bg-white/50 dark:bg-white/5 backdrop-blur-xl border-black/5 dark:border-white/10 hover:bg-white/60 dark:hover:bg-white/10 transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/10",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground dark:text-white",children:s.name||s.tag_name}),s.prerelease?e.jsx(N,{className:"bg-amber-500/20 text-amber-300 border-amber-500/30",children:"Pre-release"}):e.jsx(N,{className:"bg-green-500/20 text-green-300 border-green-500/30",children:"Stable"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-400",children:[e.jsxs("time",{dateTime:s.published_at,className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),J(s.published_at)]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("code",{className:"px-2 py-0.5 bg-white/10 rounded text-xs",children:s.tag_name})]}),e.jsxs("span",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(B,{className:"w-4 h-4"}),k(r)]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>window.open(s.html_url,"_blank"),className:"border-white/20 text-slate-300 hover:bg-white/10",children:[e.jsx(F,{className:"w-4 h-4 mr-1"})," GitHub"]})})]}),e.jsx("div",{className:"prose prose-slate dark:prose-invert prose-sm max-w-none",children:e.jsx("div",{className:"bg-black/5 dark:bg-white/5 rounded-xl p-4 text-slate-700 dark:text-slate-300",children:e.jsx(I,{remarkPlugins:[V],children:o?n:D})})}),n.length>400&&e.jsx("button",{onClick:()=>y(o?null:s.id),className:"mt-4 flex items-center gap-2 text-indigo-400 hover:text-indigo-300 transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-4 h-4"}),t("changelog.showLess")||"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"}),t("changelog.showMore")||"Show more"]})})]})})]},s.id)})})}),f.length===0&&!x&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(v,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t("changelog.noResults")||"No releases found"}),e.jsx("p",{className:"text-slate-400",children:t("changelog.tryDifferentSearch")||"Try a different search term or filter"})]})]})]})]})]})};function ne(){return e.jsx(E,{children:e.jsx(X,{})})}export{ne as default};
